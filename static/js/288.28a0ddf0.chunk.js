"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[288],{288:(t,s,e)=>{e.r(s),e.d(s,{default:()=>A});var r=e(791),a=e(420),o=e(70);const i="MyPost_profile_posts__yylmK",l="MyPost_posts__JEnoF",n="MyPost_posts_form__IhRAv",u="Post_post__dWfXd";var d=e(184);const c=function(t){return(0,d.jsxs)("div",{className:u,children:[(0,d.jsx)("p",{children:t.message}),(0,d.jsx)("span",{children:t.like})," \u2665",(0,d.jsx)("button",{type:"button",children:"Like"})]})};var p=e(134);const f=t=>{const{register:s,handleSubmit:e,formState:{errors:r},reset:a}=(0,p.cI)();return(0,d.jsxs)("form",{onSubmit:e((s=>{t.addPost(s.newPostText),a()})),className:n,children:[(0,d.jsx)("textarea",{...s("newPostText",{required:!0}),placeholder:"Write a post"}),(0,d.jsx)("button",{type:"submit",children:"Send"})]})},h=t=>{let s=[...t.postData].reverse().map((t=>(0,d.jsx)(c,{id:t.id,message:t.message,like:t.like})));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:i,children:(0,d.jsx)(f,{addPost:t.addPost})}),(0,d.jsx)("div",{className:l,children:s})]})};const x=(0,a.$j)((t=>({postData:t.profilePage.postData,newPostText:t.profilePage.newPostText})),(t=>({addPost:s=>{t((0,o.Wl)(s))}})))(h),j="ProfileInfo_profile_data__UZfki",g="ProfileInfo_profile_text__4-FvA";var m=e(765);const _=t=>{const[s,e]=(0,r.useState)(!1),[a,o]=(0,r.useState)(t.status);(0,r.useEffect)((()=>{o(t.status)}),[t.status]);const{register:i,handleSubmit:l,formState:{errors:n}}=(0,p.cI)();return(0,d.jsx)("div",{children:(0,d.jsxs)("form",{onSubmit:l((t=>{console.log(t)})),children:[!s&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:()=>{e(!0)},children:t.status||"----"})}),s&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{...i("status"),onChange:t=>{o(t.currentTarget.value)},autoFocus:!0,onBlur:()=>{e(!1),t.updateStatus(a)},type:"text",value:a})})]})})};var v=e(55);const P=function(t){return t.profile?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)("img",{src:null!=t.profile.photos.large?t.profile.photos.large:v,alt:"avatar"}),(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)("p",{children:t.profile.fullName}),(0,d.jsxs)("p",{children:[1==t.profile.lookingForAJob?"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b":"\u041d\u0435 \u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443","- ",t.profile.lookingForAJobDescription]}),(0,d.jsx)(_,{status:t.status,updateStatus:t.updateStatus}),(0,d.jsx)("p",{children:(0,d.jsx)("i",{children:t.profile.aboutMe})})]})]})}):(0,d.jsx)(m.Z,{})};const S=function(t){return(0,d.jsxs)("div",{children:[(0,d.jsx)(P,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,d.jsx)(x,{})]})};var b=e(689),k=e(291);const A=(0,e(154).qC)((0,a.$j)((t=>({profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth})),{setUserProfile:o.$l,getUserProfile:o.et,getStatus:o.lR,updateStatus:o.Nf}),k.S)((function(t){let{userId:s}=(0,b.UO)();return(0,r.useEffect)((()=>{s||(s=t.authorizedUserId),t.getUserProfile(s),t.getStatus(s)}),[s]),(0,d.jsx)("div",{children:(0,d.jsx)(S,{...t,profile:t.profile,status:t.status,updateStatus:t.updateStatus})})}))},291:(t,s,e)=>{e.d(s,{S:()=>l});e(791);var r=e(689),a=e(420),o=e(184);let i=t=>({isAuth:t.auth.isAuth});const l=t=>(0,a.$j)(i)((s=>s.isAuth?(0,o.jsx)(t,{...s}):(0,o.jsx)(r.Fg,{to:"/login/"})))},55:(t,s,e)=>{t.exports=e.p+"static/media/user.3356af717b858f4a96d4.png"}}]);
//# sourceMappingURL=288.28a0ddf0.chunk.js.map