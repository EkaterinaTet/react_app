"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[865],{865:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var r=t(791),i=t(420),o=t(70);const a="MyPost_profile_posts__yylmK",l="MyPost_posts__JEnoF",n="MyPost_posts_form__IhRAv",c="Post_post__dWfXd";var d=t(184);const u=function(e){return(0,d.jsxs)("div",{className:c,children:[(0,d.jsx)("p",{children:e.message}),(0,d.jsx)("span",{children:e.like})," \u2665",(0,d.jsx)("button",{type:"button",children:"Like"})]})};var p=t(134);const f=e=>{const{register:s,handleSubmit:t,reset:r}=(0,p.cI)();return(0,d.jsxs)("form",{onSubmit:t((s=>{e.addPost(s.newPostText),r()})),className:n,children:[(0,d.jsx)("textarea",{...s("newPostText",{required:!0}),placeholder:"Write a post"}),(0,d.jsx)("button",{type:"submit",children:"Send"})]})},x=e=>{let s=[...e.postData].reverse().map((e=>(0,d.jsx)(u,{id:e.id,message:e.message,like:e.like},e.id)));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:a,children:(0,d.jsx)(f,{addPost:e.addPost})}),(0,d.jsx)("div",{className:l,children:s})]})};const h=(0,i.$j)((e=>({postData:e.profilePage.postData,newPostText:e.profilePage.newPostText})),(e=>({addPost:s=>{e((0,o.Wl)(s))}})))(x),j={profile_data:"ProfileInfo_profile_data__UZfki",profile_text:"ProfileInfo_profile_text__4-FvA",input_file:"ProfileInfo_input_file__fT39q",write_status:"ProfileInfo_write_status__jGnlP",status:"ProfileInfo_status__tB7Yh"};var v=t(765);const m=e=>{const[s,t]=(0,r.useState)(!1),[i,o]=(0,r.useState)(e.status);(0,r.useEffect)((()=>{o(e.status)}),[e.status]);const{register:a,handleSubmit:l,formState:{errors:n}}=(0,p.cI)();return(0,d.jsx)("div",{children:(0,d.jsxs)("form",{onSubmit:l((e=>{console.log(e)})),children:[!s&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{style:{marginLeft:"5px",cursor:"pointer"},onDoubleClick:()=>{t(!0)},children:e.status||"----"})}),s&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{...a("status"),onChange:e=>{o(e.currentTarget.value)},autoFocus:!0,onBlur:()=>{t(!1),e.updateStatus(i)},type:"text",value:i})})]})})};var _=t(55);const b=t.p+"static/media/writeStatus.3f1c90794b94d7efc720ea3ad7bdcba1.svg",g=e=>{const{register:s,handleSubmit:t,setError:i,formState:{errors:o},clearErrors:a}=(0,p.cI)({defaultValues:e.profile});(0,r.useEffect)((()=>{}));return(0,d.jsx)("div",{className:j.profile_text,children:(0,d.jsxs)("form",{onSubmit:t((s=>{e.saveProfile(s,i).then((()=>{e.setEditMode(!1)}))})),children:[o.server&&(0,d.jsx)("div",{style:{color:"red"},children:(0,d.jsx)("span",{children:o.server.message})}),(0,d.jsx)("div",{children:(0,d.jsx)("input",{type:"submit",value:"Save"})}),(0,d.jsx)("p",{children:(0,d.jsx)("input",{...s("fullName"),type:"text",placeholder:"full name"})}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Looking for a job"}),":"," ",(0,d.jsx)("input",{...s("lookingForAJob"),type:"checkbox"})," yes"]}),(0,d.jsxs)("p",{children:[" ",(0,d.jsx)("b",{children:"Skills"}),":",(0,d.jsx)("input",{...s("lookingForAJobDescription"),type:"text",placeholder:"your skills"})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"About me"}),":",(0,d.jsx)("textarea",{...s("aboutMe"),placeholder:"tell us about yourselfls"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Contacts"}),":"," ",Object.keys(e.profile.contacts).map((e=>(0,d.jsxs)("div",{children:[" ",e,":"," ",(0,d.jsx)("input",{...s("contacts."+e),placeholder:e,type:"text"})]})))]})]})})};const P=e=>(0,d.jsxs)("div",{className:j.profile_text,children:[e.isOwner&&(0,d.jsx)("div",{children:(0,d.jsx)("button",{onClick:e.goToEditMode,children:"Edit"})}),(0,d.jsx)("p",{children:e.profile.fullName}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Looking for a job"}),": ",e.profile.lookingForAJob?"Yes":"No"]}),e.profile.lookingForAJob&&(0,d.jsxs)("p",{children:[" ",(0,d.jsx)("b",{children:"Skills"}),": ",e.profile.lookingForAJobDescription]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"About me"}),": ",(0,d.jsx)("i",{children:e.profile.aboutMe})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Contacts"}),":"," ",Object.keys(e.profile.contacts).map((s=>(0,d.jsx)(S,{contactTitle:s,contactValue:e.profile.contacts[s]},s)))]})]}),S=e=>{let{contactTitle:s,contactValue:t}=e;return(0,d.jsxs)("p",{children:[s,": ",t]})},k=function(e){const[s,t]=(0,r.useState)(!1);return e.profile?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:j.profile_data,children:[(0,d.jsx)("img",{className:j.avatar,src:null!=e.profile.photos.large?e.profile.photos.large:_,alt:"avatar"}),e.isOwner&&(0,d.jsxs)("label",{className:j.input_file,children:[(0,d.jsx)("input",{name:"file",type:"file",onChange:s=>{s.target.files.length&&e.savePhoto(s.target.files[0])}}),(0,d.jsx)("span",{children:"Add a file"})]}),s?(0,d.jsx)(g,{setEditMode:t,saveProfile:e.saveProfile,profile:e.profile}):(0,d.jsx)(P,{goToEditMode:()=>{t(!0)},profile:e.profile,isOwner:e.isOwner})]}),(0,d.jsxs)("div",{className:j.write_status,children:[(0,d.jsx)("img",{className:j.status,src:b,alt:"write-status"}),(0,d.jsx)(m,{status:e.status,updateStatus:e.updateStatus})]})]}):(0,d.jsx)(v.Z,{})};const y=function(e){return(0,d.jsxs)("div",{children:[(0,d.jsx)(k,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),(0,d.jsx)(h,{})]})};var w=t(689),A=t(291);const N=(0,t(154).qC)((0,i.$j)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth})),{setUserProfile:o.$l,getUserProfile:o.et,getStatus:o.lR,updateStatus:o.Nf,savePhoto:o.Ju,saveProfile:o.Ii}),A.S)((function(e){let{userId:s}=(0,w.UO)();return(0,r.useEffect)((()=>{s||(s=e.authorizedUserId),e.getUserProfile(s),e.getStatus(s)}),[s]),(0,d.jsx)("div",{children:(0,d.jsx)(y,{...e,savePhoto:e.savePhoto,isOwner:!s,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile})})}))},291:(e,s,t)=>{t.d(s,{S:()=>l});t(791);var r=t(689),i=t(420),o=t(184);let a=e=>({isAuth:e.auth.isAuth});const l=e=>(0,i.$j)(a)((s=>s.isAuth?(0,o.jsx)(e,{...s}):(0,o.jsx)(r.Fg,{to:"/login/"})))},55:(e,s,t)=>{e.exports=t.p+"static/media/user.3356af717b858f4a96d4.png"}}]);
//# sourceMappingURL=865.9b761c99.chunk.js.map