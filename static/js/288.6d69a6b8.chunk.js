"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[288],{288:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var a=s(791),r=s(420),o=s(70);const i="MyPost_profile_posts__yylmK",l="MyPost_posts__JEnoF",n="MyPost_posts_form__IhRAv",u="Post_post__dWfXd";var d=s(184);const p=function(e){return(0,d.jsxs)("div",{className:u,children:[(0,d.jsx)("p",{children:e.message}),(0,d.jsx)("span",{children:e.like})," \u2665",(0,d.jsx)("button",{type:"button",children:"Like"})]})};var c=s(134);const f=e=>{const{register:t,handleSubmit:s,formState:{errors:a},reset:r}=(0,c.cI)();return(0,d.jsxs)("form",{onSubmit:s((t=>{e.addPost(t.newPostText),r()})),className:n,children:[(0,d.jsx)("textarea",{...t("newPostText",{required:!0}),placeholder:"Write a post"}),(0,d.jsx)("button",{type:"submit",children:"Send"})]})},h=e=>{let t=[...e.postData].reverse().map((e=>(0,d.jsx)(p,{id:e.id,message:e.message,like:e.like})));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:i,children:(0,d.jsx)(f,{addPost:e.addPost})}),(0,d.jsx)("div",{className:l,children:t})]})};const x=(0,r.$j)((e=>({postData:e.profilePage.postData,newPostText:e.profilePage.newPostText})),(e=>({addPost:t=>{e((0,o.Wl)(t))}})))(h),j={profile_data:"ProfileInfo_profile_data__UZfki",profile_text:"ProfileInfo_profile_text__4-FvA",input_file:"ProfileInfo_input_file__fT39q"};var _=s(765);const g=e=>{const[t,s]=(0,a.useState)(!1),[r,o]=(0,a.useState)(e.status);(0,a.useEffect)((()=>{o(e.status)}),[e.status]);const{register:i,handleSubmit:l,formState:{errors:n}}=(0,c.cI)();return(0,d.jsx)("div",{children:(0,d.jsxs)("form",{onSubmit:l((e=>{console.log(e)})),children:[!t&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:()=>{s(!0)},children:e.status||"----"})}),t&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{...i("status"),onChange:e=>{o(e.currentTarget.value)},autoFocus:!0,onBlur:()=>{s(!1),e.updateStatus(r)},type:"text",value:r})})]})})};var v=s(55);const m=function(e){return e.profile?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:j.profile_data,children:[(0,d.jsx)("img",{className:j.avatar,src:null!=e.profile.photos.large?e.profile.photos.large:v,alt:"avatar"}),e.isOwner&&(0,d.jsxs)("label",{className:j.input_file,children:[(0,d.jsx)("input",{name:"file",type:"file",onChange:t=>{t.target.files.length&&e.savePhoto(t.target.files[0])}}),(0,d.jsx)("span",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b"})]}),(0,d.jsxs)("div",{className:j.profile_text,children:[(0,d.jsx)("p",{children:e.profile.fullName}),(0,d.jsxs)("p",{children:[1==e.profile.lookingForAJob?"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b":"\u041d\u0435 \u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443","- ",e.profile.lookingForAJobDescription]}),(0,d.jsx)(g,{status:e.status,updateStatus:e.updateStatus}),(0,d.jsx)("p",{children:(0,d.jsx)("i",{children:e.profile.aboutMe})})]})]})}):(0,d.jsx)(_.Z,{})};const P=function(e){return(0,d.jsxs)("div",{children:[(0,d.jsx)(m,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),(0,d.jsx)(x,{})]})};var S=s(689),b=s(291);const k=(0,s(154).qC)((0,r.$j)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth})),{setUserProfile:o.$l,getUserProfile:o.et,getStatus:o.lR,updateStatus:o.Nf,savePhoto:o.Ju}),b.S)((function(e){let{userId:t}=(0,S.UO)();return(0,a.useEffect)((()=>{t||(t=e.authorizedUserId),e.getUserProfile(t),e.getStatus(t)}),[t]),(0,d.jsx)("div",{children:(0,d.jsx)(P,{...e,savePhoto:e.savePhoto,isOwner:!t,profile:e.profile,status:e.status,updateStatus:e.updateStatus})})}))},291:(e,t,s)=>{s.d(t,{S:()=>l});s(791);var a=s(689),r=s(420),o=s(184);let i=e=>({isAuth:e.auth.isAuth});const l=e=>(0,r.$j)(i)((t=>t.isAuth?(0,o.jsx)(e,{...t}):(0,o.jsx)(a.Fg,{to:"/login/"})))},55:(e,t,s)=>{e.exports=s.p+"static/media/user.3356af717b858f4a96d4.png"}}]);
//# sourceMappingURL=288.6d69a6b8.chunk.js.map